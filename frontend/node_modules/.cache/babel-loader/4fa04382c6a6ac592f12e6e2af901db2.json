{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Repulser = void 0;\n\nvar Enums_1 = require(\"../../../../Enums\");\n\nvar Utils_1 = require(\"../../../../Utils\");\n\nvar Repulser = function () {\n  function Repulser() {}\n\n  Repulser.repulse = function (container, _delta) {\n    var options = container.options;\n    var mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent;\n    var events = options.interactivity.events;\n    var hoverEnabled = events.onHover.enable;\n    var hoverMode = events.onHover.mode;\n    var clickEnabled = events.onClick.enable;\n    var clickMode = events.onClick.mode;\n    var divMode = events.onDiv.mode;\n    var divEnabled = events.onDiv.enable;\n\n    if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(Enums_1.HoverMode.repulse, hoverMode)) {\n      this.hoverRepulse(container);\n    } else if (clickEnabled && Utils_1.Utils.isInArray(Enums_1.ClickMode.repulse, clickMode)) {\n      this.clickRepulse(container);\n    } else if (divEnabled && Utils_1.Utils.isInArray(Enums_1.DivMode.repulse, divMode)) {\n      this.divRepulse(container);\n    }\n  };\n\n  Repulser.divRepulse = function (container) {\n    var options = container.options;\n    var elem = document.getElementById(options.interactivity.events.onDiv.elementId);\n\n    if (!elem) {\n      return;\n    }\n\n    var pxRatio = container.retina.pixelRatio;\n    var pos = {\n      x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,\n      y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio\n    };\n    var repulseRadius = elem.offsetWidth / 2 * pxRatio;\n    this.processRepulse(container, pos, repulseRadius);\n  };\n\n  Repulser.hoverRepulse = function (container) {\n    var mousePos = container.interactivity.mouse.position;\n\n    if (!mousePos) {\n      return;\n    }\n\n    var repulseRadius = container.retina.repulseModeDistance;\n    this.processRepulse(container, mousePos, repulseRadius);\n  };\n\n  Repulser.processRepulse = function (container, position, repulseRadius) {\n    var query = container.particles.quadTree.query(new Utils_1.Circle(position.x, position.y, repulseRadius));\n\n    for (var _i = 0, query_1 = query; _i < query_1.length; _i++) {\n      var particle = query_1[_i];\n\n      var _a = Utils_1.Utils.getDistances(particle.position, position),\n          dx = _a.dx,\n          dy = _a.dy,\n          distance = _a.distance;\n\n      var normVec = {\n        x: dx / distance,\n        y: dy / distance\n      };\n      var velocity = container.options.interactivity.modes.repulse.speed * 100;\n      var repulseFactor = Utils_1.Utils.clamp((1 - Math.pow(distance / repulseRadius, 2)) * velocity, 0, 50);\n      var outMode = particle.particlesOptions.move.outMode;\n      var sizeValue = particle.size.value;\n      var pos = {\n        x: particle.position.x + normVec.x * repulseFactor,\n        y: particle.position.y + normVec.y * repulseFactor\n      };\n\n      if (outMode === Enums_1.OutMode.bounce || outMode === Enums_1.OutMode.bounceVertical || outMode === Enums_1.OutMode.bounceHorizontal) {\n        var isInside = {\n          horizontal: pos.x - sizeValue > 0 && pos.x + sizeValue < container.canvas.size.width,\n          vertical: pos.y - sizeValue > 0 && pos.y + sizeValue < container.canvas.size.height\n        };\n\n        if (outMode === Enums_1.OutMode.bounceVertical || isInside.horizontal) {\n          particle.position.x = pos.x;\n        }\n\n        if (outMode === Enums_1.OutMode.bounceHorizontal || isInside.vertical) {\n          particle.position.y = pos.y;\n        }\n      } else {\n        particle.position.x = pos.x;\n        particle.position.y = pos.y;\n      }\n    }\n  };\n\n  Repulser.clickRepulse = function (container) {\n    if (!container.repulse.finish) {\n      if (!container.repulse.count) {\n        container.repulse.count = 0;\n      }\n\n      container.repulse.count++;\n\n      if (container.repulse.count === container.particles.count) {\n        container.repulse.finish = true;\n      }\n    }\n\n    if (container.repulse.clicking) {\n      var repulseDistance = container.retina.repulseModeDistance;\n      var repulseRadius = Math.pow(repulseDistance / 6, 3);\n      var mouseClickPos = container.interactivity.mouse.clickPosition;\n\n      if (mouseClickPos === undefined) {\n        return;\n      }\n\n      var range = new Utils_1.Circle(mouseClickPos.x, mouseClickPos.y, repulseRadius);\n      var query = container.particles.quadTree.query(range);\n\n      for (var _i = 0, query_2 = query; _i < query_2.length; _i++) {\n        var particle = query_2[_i];\n\n        var _a = Utils_1.Utils.getDistances(mouseClickPos, particle.position),\n            dx = _a.dx,\n            dy = _a.dy,\n            distance = _a.distance;\n\n        var d = distance * distance;\n        var velocity = container.options.interactivity.modes.repulse.speed;\n        var force = -repulseRadius * velocity / d;\n\n        if (d <= repulseRadius) {\n          container.repulse.particles.push(particle);\n          this.processClickRepulse(container, particle, dx, dy, force);\n        }\n      }\n    } else if (container.repulse.clicking === false) {\n      for (var _b = 0, _c = container.repulse.particles; _b < _c.length; _b++) {\n        var particle = _c[_b];\n        particle.velocity.horizontal = particle.initialVelocity.horizontal;\n        particle.velocity.vertical = particle.initialVelocity.vertical;\n      }\n\n      container.repulse.particles = [];\n    }\n  };\n\n  Repulser.processClickRepulse = function (container, particle, dx, dy, force) {\n    var options = container.options;\n    var f = Math.atan2(dy, dx);\n    particle.velocity.horizontal = force * Math.cos(f);\n    particle.velocity.vertical = force * Math.sin(f);\n    var outMode = options.particles.move.outMode;\n\n    if (outMode === Enums_1.OutMode.bounce || outMode === Enums_1.OutMode.bounceHorizontal || outMode === Enums_1.OutMode.bounceVertical) {\n      var pos = {\n        x: particle.position.x + particle.velocity.horizontal,\n        y: particle.position.y + particle.velocity.vertical\n      };\n\n      if (outMode !== Enums_1.OutMode.bounceVertical) {\n        if (pos.x + particle.size.value > container.canvas.size.width || pos.x - particle.size.value < 0) {\n          particle.velocity.horizontal *= -1;\n        }\n      }\n\n      if (outMode !== Enums_1.OutMode.bounceHorizontal) {\n        if (pos.y + particle.size.value > container.canvas.size.height || pos.y - particle.size.value < 0) {\n          particle.velocity.vertical *= -1;\n        }\n      }\n    }\n  };\n\n  return Repulser;\n}();\n\nexports.Repulser = Repulser;","map":{"version":3,"sources":["/Users/guru/Desktop/Development/React/smartbrain/node_modules/tsparticles/dist/Core/Particle/Interactions/Mouse/Repulser.js"],"names":["Object","defineProperty","exports","value","Repulser","Enums_1","require","Utils_1","repulse","container","_delta","options","mouseMoveStatus","interactivity","status","Constants","mouseMoveEvent","events","hoverEnabled","onHover","enable","hoverMode","mode","clickEnabled","onClick","clickMode","divMode","onDiv","divEnabled","Utils","isInArray","HoverMode","hoverRepulse","ClickMode","clickRepulse","DivMode","divRepulse","elem","document","getElementById","elementId","pxRatio","retina","pixelRatio","pos","x","offsetLeft","offsetWidth","y","offsetTop","offsetHeight","repulseRadius","processRepulse","mousePos","mouse","position","repulseModeDistance","query","particles","quadTree","Circle","_i","query_1","length","particle","_a","getDistances","dx","dy","distance","normVec","velocity","modes","speed","repulseFactor","clamp","Math","pow","outMode","particlesOptions","move","sizeValue","size","OutMode","bounce","bounceVertical","bounceHorizontal","isInside","horizontal","canvas","width","vertical","height","finish","count","clicking","repulseDistance","mouseClickPos","clickPosition","undefined","range","query_2","d","force","push","processClickRepulse","_b","_c","initialVelocity","f","atan2","cos","sin"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Repulser = void 0;\nvar Enums_1 = require(\"../../../../Enums\");\nvar Utils_1 = require(\"../../../../Utils\");\nvar Repulser = (function () {\n    function Repulser() {\n    }\n    Repulser.repulse = function (container, _delta) {\n        var options = container.options;\n        var mouseMoveStatus = container.interactivity.status === Utils_1.Constants.mouseMoveEvent;\n        var events = options.interactivity.events;\n        var hoverEnabled = events.onHover.enable;\n        var hoverMode = events.onHover.mode;\n        var clickEnabled = events.onClick.enable;\n        var clickMode = events.onClick.mode;\n        var divMode = events.onDiv.mode;\n        var divEnabled = events.onDiv.enable;\n        if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(Enums_1.HoverMode.repulse, hoverMode)) {\n            this.hoverRepulse(container);\n        }\n        else if (clickEnabled && Utils_1.Utils.isInArray(Enums_1.ClickMode.repulse, clickMode)) {\n            this.clickRepulse(container);\n        }\n        else if (divEnabled && Utils_1.Utils.isInArray(Enums_1.DivMode.repulse, divMode)) {\n            this.divRepulse(container);\n        }\n    };\n    Repulser.divRepulse = function (container) {\n        var options = container.options;\n        var elem = document.getElementById(options.interactivity.events.onDiv.elementId);\n        if (!elem) {\n            return;\n        }\n        var pxRatio = container.retina.pixelRatio;\n        var pos = {\n            x: (elem.offsetLeft + elem.offsetWidth / 2) * pxRatio,\n            y: (elem.offsetTop + elem.offsetHeight / 2) * pxRatio,\n        };\n        var repulseRadius = (elem.offsetWidth / 2) * pxRatio;\n        this.processRepulse(container, pos, repulseRadius);\n    };\n    Repulser.hoverRepulse = function (container) {\n        var mousePos = container.interactivity.mouse.position;\n        if (!mousePos) {\n            return;\n        }\n        var repulseRadius = container.retina.repulseModeDistance;\n        this.processRepulse(container, mousePos, repulseRadius);\n    };\n    Repulser.processRepulse = function (container, position, repulseRadius) {\n        var query = container.particles.quadTree.query(new Utils_1.Circle(position.x, position.y, repulseRadius));\n        for (var _i = 0, query_1 = query; _i < query_1.length; _i++) {\n            var particle = query_1[_i];\n            var _a = Utils_1.Utils.getDistances(particle.position, position), dx = _a.dx, dy = _a.dy, distance = _a.distance;\n            var normVec = {\n                x: dx / distance,\n                y: dy / distance,\n            };\n            var velocity = container.options.interactivity.modes.repulse.speed * 100;\n            var repulseFactor = Utils_1.Utils.clamp((1 - Math.pow(distance / repulseRadius, 2)) * velocity, 0, 50);\n            var outMode = particle.particlesOptions.move.outMode;\n            var sizeValue = particle.size.value;\n            var pos = {\n                x: particle.position.x + normVec.x * repulseFactor,\n                y: particle.position.y + normVec.y * repulseFactor,\n            };\n            if (outMode === Enums_1.OutMode.bounce ||\n                outMode === Enums_1.OutMode.bounceVertical ||\n                outMode === Enums_1.OutMode.bounceHorizontal) {\n                var isInside = {\n                    horizontal: pos.x - sizeValue > 0 && pos.x + sizeValue < container.canvas.size.width,\n                    vertical: pos.y - sizeValue > 0 && pos.y + sizeValue < container.canvas.size.height,\n                };\n                if (outMode === Enums_1.OutMode.bounceVertical || isInside.horizontal) {\n                    particle.position.x = pos.x;\n                }\n                if (outMode === Enums_1.OutMode.bounceHorizontal || isInside.vertical) {\n                    particle.position.y = pos.y;\n                }\n            }\n            else {\n                particle.position.x = pos.x;\n                particle.position.y = pos.y;\n            }\n        }\n    };\n    Repulser.clickRepulse = function (container) {\n        if (!container.repulse.finish) {\n            if (!container.repulse.count) {\n                container.repulse.count = 0;\n            }\n            container.repulse.count++;\n            if (container.repulse.count === container.particles.count) {\n                container.repulse.finish = true;\n            }\n        }\n        if (container.repulse.clicking) {\n            var repulseDistance = container.retina.repulseModeDistance;\n            var repulseRadius = Math.pow(repulseDistance / 6, 3);\n            var mouseClickPos = container.interactivity.mouse.clickPosition;\n            if (mouseClickPos === undefined) {\n                return;\n            }\n            var range = new Utils_1.Circle(mouseClickPos.x, mouseClickPos.y, repulseRadius);\n            var query = container.particles.quadTree.query(range);\n            for (var _i = 0, query_2 = query; _i < query_2.length; _i++) {\n                var particle = query_2[_i];\n                var _a = Utils_1.Utils.getDistances(mouseClickPos, particle.position), dx = _a.dx, dy = _a.dy, distance = _a.distance;\n                var d = distance * distance;\n                var velocity = container.options.interactivity.modes.repulse.speed;\n                var force = (-repulseRadius * velocity) / d;\n                if (d <= repulseRadius) {\n                    container.repulse.particles.push(particle);\n                    this.processClickRepulse(container, particle, dx, dy, force);\n                }\n            }\n        }\n        else if (container.repulse.clicking === false) {\n            for (var _b = 0, _c = container.repulse.particles; _b < _c.length; _b++) {\n                var particle = _c[_b];\n                particle.velocity.horizontal = particle.initialVelocity.horizontal;\n                particle.velocity.vertical = particle.initialVelocity.vertical;\n            }\n            container.repulse.particles = [];\n        }\n    };\n    Repulser.processClickRepulse = function (container, particle, dx, dy, force) {\n        var options = container.options;\n        var f = Math.atan2(dy, dx);\n        particle.velocity.horizontal = force * Math.cos(f);\n        particle.velocity.vertical = force * Math.sin(f);\n        var outMode = options.particles.move.outMode;\n        if (outMode === Enums_1.OutMode.bounce || outMode === Enums_1.OutMode.bounceHorizontal || outMode === Enums_1.OutMode.bounceVertical) {\n            var pos = {\n                x: particle.position.x + particle.velocity.horizontal,\n                y: particle.position.y + particle.velocity.vertical,\n            };\n            if (outMode !== Enums_1.OutMode.bounceVertical) {\n                if (pos.x + particle.size.value > container.canvas.size.width || pos.x - particle.size.value < 0) {\n                    particle.velocity.horizontal *= -1;\n                }\n            }\n            if (outMode !== Enums_1.OutMode.bounceHorizontal) {\n                if (pos.y + particle.size.value > container.canvas.size.height || pos.y - particle.size.value < 0) {\n                    particle.velocity.vertical *= -1;\n                }\n            }\n        }\n    };\n    return Repulser;\n}());\nexports.Repulser = Repulser;\n"]},"metadata":{},"sourceType":"script"}